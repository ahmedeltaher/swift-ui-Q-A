<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>What is the role of @ViewBuilder attribute?</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Custom CSS -->
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #121212;
      color: #e0e0e0;
      padding: 20px;
    }

    .card {
      margin-bottom: 25px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      overflow: hidden;
      border: none;
    }

    .advanced-level {
      background: linear-gradient(135deg, #7ba69f 0%, #9ac2bb 100%);
    }

    .card-header {
      color: white;
      font-weight: bold;
      border-radius: 0 !important;
      padding: 20px;
      background: rgba(0, 0, 0, 0.1);
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      text-align: center;
    }

    .card-body {
      padding: 25px;
      line-height: 1.8;
      color: white;
      text-align: left;
    }

    .main-title {
      background: linear-gradient(135deg, #7ba69f 0%, #9ac2bb 100%);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      text-align: center;
      margin-bottom: 30px;
      font-size: 2.5rem;
      font-weight: bold;
      filter: brightness(1.2);
      text-shadow: 0 0 15px rgba(123, 166, 159, 0.5);
    }

    .content-container {
      max-width: 900px;
      margin: 0 auto;
    }

    .answer-section {
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 25px;
      margin-bottom: 25px;
      direction: ltr;
      text-align: left;
    }

    .explanation-section {
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 15px;
      padding: 25px;
      margin-bottom: 25px;
    }

    .answer-title,
    .explanation-title {
      font-weight: bold;
      margin-bottom: 15px;
      color: #e0e0e0;
    }

    .code-block {
      background-color: rgba(0, 0, 0, 0.3);
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      overflow-x: auto;
    }

    pre {
      color: #e0e0e0;
      margin: 0;
    }

    .back-button {
      background: linear-gradient(135deg, #7ba69f 0%, #9ac2bb 100%);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 20px;
      margin-bottom: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }

    .back-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 15px rgba(123, 166, 159, 0.5);
      color: white;
      text-decoration: none;
    }

    footer {
      text-align: center;
      margin-top: 40px;
      color: #a0a0a0;
      padding: 20px;
    }

    .highlight {
      color: #9ac2bb;
      font-weight: bold;
    }

    table {
      width: 100%;
      margin: 20px 0;
      border-collapse: collapse;
    }

    th,
    td {
      padding: 12px 15px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    th {
      background-color: rgba(0, 0, 0, 0.2);
    }

    tr:nth-child(even) {
      background-color: rgba(255, 255, 255, 0.03);
    }

    .example-box {
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 15px;
      margin: 10px 0;
      border-left: 4px solid #9ac2bb;
    }
  </style>
</head>

<body>
  <div class="content-container">
    <a href="../SwiftUI_Interview_Questions.html" class="back-button">← العودة للأسئلة</a>

    <h1 class="main-title">What is the role of @ViewBuilder attribute?</h1>

    <div class="card advanced-level">
      <div class="card-header">
        <h3 class="mb-0">Answer in English</h3>
      </div>
      <div class="card-body">
        <div class="answer-section">
          <h4>@ViewBuilder Overview:</h4>
          <p><strong>@ViewBuilder</strong> is a result builder attribute in SwiftUI that enables creating multiple views in a declarative syntax without explicitly returning tuples or containers.</p>

          <h4>Key Functions:</h4>
          
          <div class="example-box">
            <h5>1. Multiple View Declaration</h5>
            <p>Allows writing multiple views without wrapping them in containers:</p>
            <div class="code-block">
              <pre><code>@ViewBuilder
func buildContent() -> some View {
    Text("First view")
    Text("Second view")
    Button("Action") { }
    // No need for VStack or containers
}</code></pre>
            </div>
          </div>

          <div class="example-box">
            <h5>2. Conditional View Building</h5>
            <p>Enables if-else statements without explicit returns:</p>
            <div class="code-block">
              <pre><code>@ViewBuilder
func conditionalContent(showExtra: Bool) -> some View {
    Text("Always shown")
    
    if showExtra {
        Text("Extra content")
        Button("Extra button") { }
    }
}</code></pre>
            </div>
          </div>

          <h4>How @ViewBuilder Works:</h4>
          <p>@ViewBuilder is a result builder that transforms multiple statements into a single return value by:</p>
          <ul>
            <li>Combining single views into TupleView</li>
            <li>Handling conditional statements (if/else)</li>
            <li>Managing optional views</li>
            <li>Supporting switch statements</li>
          </ul>

          <div class="code-block">
            <pre><code>// Without @ViewBuilder - This won't work
func content() -> some View {
    Text("First")
    Text("Second")  // ❌ Error: Multiple statements
}

// With @ViewBuilder - This works
@ViewBuilder
func content() -> some View {
    Text("First")
    Text("Second")  // ✅ Combined into TupleView
}</code></pre>
          </div>

          <h4>Common Use Cases:</h4>

          <table>
            <tr>
              <th>Use Case</th>
              <th>Example</th>
              <th>Benefit</th>
            </tr>
            <tr>
              <td>Custom Containers</td>
              <td>Custom stack implementations</td>
              <td>Declarative content building</td>
            </tr>
            <tr>
              <td>Conditional UI</td>
              <td>if/else view logic</td>
              <td>Clean conditional syntax</td>
            </tr>
            <tr>
              <td>Function Builders</td>
              <td>Reusable view functions</td>
              <td>Modular view composition</td>
            </tr>
            <tr>
              <td>Custom Modifiers</td>
              <td>ViewModifier implementations</td>
              <td>Complex modifier logic</td>
            </tr>
          </table>

          <h4>Advanced Example:</h4>
          <div class="code-block">
            <pre><code>struct CustomContainer<Content: View>: View {
    let content: Content
    
    init(@ViewBuilder content: () -> Content) {
        self.content = content()
    }
    
    var body: some View {
        VStack {
            Text("Header")
            content
            Text("Footer")
        }
    }
}

// Usage
CustomContainer {
    Text("Item 1")
    Text("Item 2")
    if someCondition {
        Button("Conditional button") { }
    }
}</code></pre>
          </div>

          <h4>Behind the Scenes:</h4>
          <p>SwiftUI transforms @ViewBuilder code:</p>
          <div class="code-block">
            <pre><code>// This @ViewBuilder code:
Text("A")
Text("B")
Text("C")

// Becomes:
TupleView((Text("A"), Text("B"), Text("C")))</code></pre>
          </div>

          <h4>Limitations:</h4>
          <ul>
            <li>Maximum 10 views in a single @ViewBuilder block</li>
            <li>No loops (use ForEach instead)</li>
            <li>Limited to specific control flow statements</li>
            <li>Cannot use complex expressions in conditions</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="explanation-section">
      <h3 class="explanation-title">الشرح بالعربي</h3>
      
      <h4>إيه هو @ViewBuilder؟</h4>
      <p>دا <span class="highlight">attribute</span> في SwiftUI بيخليك تكتب أكتر من view في مكان واحد من غير ما تضطر تحطهم في container زي VStack.</p>
      
      <h4>ليه مهم؟</h4>
      <ul>
        <li><strong>تبسيط الكود:</strong> مش محتاج return أو containers</li>
        <li><strong>المرونة:</strong> بيخليك تكتب if/else بسهولة</li>
        <li><strong>Custom Views:</strong> بيخليك تعمل views مخصصة تقبل محتوى</li>
      </ul>
      
      <h4>أمثلة عملية:</h4>
      
      <div class="example-box">
        <h5>المثال الأول: عدة Views</h5>
        <div class="code-block">
          <pre><code>@ViewBuilder
func buildMyContent() -> some View {
    Text("العنوان")
    Text("المحتوى")
    Button("زر") { }
}</code></pre>
        </div>
      </div>

      <div class="example-box">
        <h5>المثال الثاني: Views شرطية</h5>
        <div class="code-block">
          <pre><code>@ViewBuilder
func conditionalViews(showButton: Bool) -> some View {
    Text("نص ثابت")
    
    if showButton {
        Button("الزر الشرطي") { }
    }
}</code></pre>
        </div>
      </div>
      
      <h4>ازاي بيشتغل من جوه؟</h4>
      <p>SwiftUI بياخد الـ views المتعددة ويحطهم في حاجة اسمها <span class="highlight">TupleView</span> - يعني بيجمعهم في group واحد.</p>
      
      <h4>استخدامات مهمة:</h4>
      <ul>
        <li><strong>Custom Containers:</strong> لما تعمل container مخصص</li>
        <li><strong>Functions بترجع Views:</strong> عشان تنظم الكود</li>
        <li><strong>Custom Modifiers:</strong> لما تعمل modifiers معقدة</li>
        <li><strong>Conditional UI:</strong> عشان الـ views الشرطية</li>
      </ul>
      
      <h4>حدود @ViewBuilder:</h4>
      <ul>
        <li>أقصى 10 views في نفس المكان</li>
        <li>مينفعش تستخدم loops (استخدم ForEach)</li>
        <li>الشروط لازم تكون بسيطة</li>
      </ul>
      
      <p><span class="highlight">خلاصة:</span> @ViewBuilder هو اللي بيخلي SwiftUI يفهم الكود البسيط بتاعنا ويحوله لـ views شغالة!</p>
    </div>

    <a href="../SwiftUI_Interview_Questions.html" class="back-button">← العودة للأسئلة</a>
  </div>

  <footer>
    صفحة إجابة سؤال SwiftUI — الشرح بالعربي والإنجليزي
  </footer>
</body>

</html>